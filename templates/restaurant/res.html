{% extends "home.html" %}

{% block content %}

<h2>
    {% if restaurant %}
        Update Restaurant
    {% else %}
        Add Restaurant
    {% endif %}
</h2>

<form method="POST">
    {% csrf_token %}

    <label>Name:</label><br>
    <input type="text" name="name"
           value="{{ restaurant.name|default:'' }}"
           required><br><br>

    <label>Description:</label><br>
    <textarea name="description" required>{{ restaurant.description|default:'' }}</textarea><br><br>

    <label>Rating:</label><br>
    <input type="number" name="rating" step="0.1" min="1" max="5"
           value="{{ restaurant.rating|default:'' }}"
           required><br><br>

    <button type="submit">
        {% if restaurant %} Update {% else %} Add {% endif %}
    </button>
</form>

{% if restaurant %}
    <br>
    <a href="{% url 'delete' restaurant.id %}"
       onclick="return confirm('Are you sure you want to delete this restaurant?')">
        Delete Restaurant
    </a>
{% endif %}

<br><br>
<a href="{% url 'home' %}">Back to Home</a>

{% endblock %}
