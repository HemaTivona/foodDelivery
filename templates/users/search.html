{% extends "base.html" %}

{% block title %}Search Results{% endblock %}

{% block content %}

<div style="padding: 20px; max-width: 900px; margin: auto;">

    <h2>Search Results for "{{ query }}"</h2>

    {% if query %}

        <!-- Restaurants -->
        {% if restaurants %}
            <h3>ğŸ  Restaurants</h3>
            {% for restaurant in restaurants %}
                <div style="border:1px solid #ddd; padding:15px; margin-bottom:12px; border-radius:8px;">
                    <h4>
                        <a href="{% url 'restaurant_detail' restaurant.id %}">
                            {{ restaurant.name }}
                        </a>
                    </h4>
                    <p>{{ restaurant.description }}</p>
                    <strong>â­ {{ restaurant.rating }}</strong>
                </div>
            {% endfor %}
        {% endif %}

        <!-- Categories -->
        {% if categories %}
            <h3>ğŸ“‚ Categories</h3>
            {% for category in categories %}
                <div style="border:1px solid #ddd; padding:15px; margin-bottom:12px; border-radius:8px;">
                    <h4>{{ category.name }}</h4>
                    <p>Restaurant: {{ category.restaurant.name }}</p>
                </div>
            {% endfor %}
        {% endif %}

        <!-- Food Items -->
        {% if food_items %}
            <h3>ğŸ½ Food Items</h3>
            {% for food in food_items %}
                <div style="border:1px solid #ddd; padding:15px; margin-bottom:12px; border-radius:8px;">
                    <h4>{{ food.name }}</h4>
                    <p>Category: {{ food.category.name }}</p>
                    <p>Restaurant: {{ food.restaurant.name }}</p>
                    <strong>â‚¹ {{ food.price }}</strong>
                </div>
            {% endfor %}
        {% endif %}

        {% if not restaurants and not categories and not food_items %}
            <p>No results found.</p>
        {% endif %}

    {% else %}
        <p>Please enter a search term.</p>
    {% endif %}

</div>

{% endblock %}
